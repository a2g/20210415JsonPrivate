{
    "$schema": "http://json-schema.org/draft-07/schema",
    "description": "This is the schema for the main Scenario file for the game. It basically a skeleton, pulling in other more substantial types from other files. It could be split up, but for now its easier managing three files Scenario, Schema and Objects",
    "type": "object",
    "definitions": {
        "gflag_type": {
            "enum": [
                "gflag_music_kid_freed",
                "gflag_army_kid_freed",
                "gflag_goth_kid_freed",
                "gflag_sports_kid_freed",
                "gflag_prefect_freed",
                "gflag_missing_kid_found",
                "gflag_groundskeeper_summoned",
                "gflag_game_complete"
            ]
        },
        "condition_type": {
            "enum": [
                "allOfThem",
                "oneOrMore",
                "twoOrMore",
                "threeOrMore"
            ],
            "allOfThem": "allOfThem",
            "oneOrMore": "oneOrMore",
            "twoOrMore": "twoOrMore",
            "threeOrMore": "threeOrMore"
        },
        "level_type": {
            "type": "object",
            "required": [
                "mainFile",
                "displayName",
                "flagSetUponCompletion",
                "prerequisiteFlags",
                "prerequisiteType",
                "sunsetFlags",
                "sunsetType",
                "extraFiles"
            ],
            "dependentRequired": {
                "prerequisiteType": [
                    "prerequisiteFlags"
                ],
                "prerequisiteFlags": [
                    "prerequisiteType"
                ],
                "sunsetType": [
                    "sunsetFlags"
                ],
                "sunsetFlags": [
                    "sunsetType"
                ]
            },
            "properties": {
                "displayName": {
                    "type": "string"
                },
                "mainFile": {
                    "type": "string"
                },
                "extraFiles": {
                    "type": "array",
                    "minItems": 0,
                    "items": {
                        "type": "string"
                    }
                },
                "flagSetUponCompletion": {
                    "$ref": "#/definitions/gflag_type"
                },
                "prerequisiteType": {
                    "$ref": "#/definitions/condition_type"
                },
                "prerequisiteFlags": {
                    "type": "array",
                    "minItems": 0,
                    "items": {
                        "$ref": "#/definitions/gflag_type"
                    }
                },
                "sunsetType": {
                    "$ref": "#/definitions/condition_type"
                },
                "sunsetFlags": {
                    "type": "array",
                    "minItems": 0,
                    "items": {
                        "$ref": "#/definitions/gflag_type"
                    }
                }
            }
        }
    },
    "properties": {
        "levels": {
            "type": "array",
            "minItems": 1,
            "items": {
                "$ref": "#/definitions/level_type"
            }
        }
    }
}